{"remainingRequest":"/Users/andytseng/Sticker/vue-calender/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/andytseng/Sticker/vue-calender/src/components/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/andytseng/Sticker/vue-calender/src/components/login.vue","mtime":1576126939536},{"path":"/Users/andytseng/Sticker/vue-calender/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/andytseng/Sticker/vue-calender/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/andytseng/Sticker/vue-calender/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/andytseng/Sticker/vue-calender/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/andytseng/Sticker/vue-calender/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IGF4aW9zID0gcmVxdWlyZSgiYXhpb3MiKTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJsb2dpbiIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGpvaW5EaWFsb2c6IGZhbHNlLAogICAgICBlbWFpbDogIiIsCiAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgdmFsaWQ6IGZhbHNlLAoKICAgICAgam9pbk5hbWU6IiIsCiAgICAgIGpvaW5QYXNzOiIiLAogICAgICBqb2luRW1haWw6IiIsCgogICAgICBwYXNzd29yZFJ1bGVzOiBbCiAgICAgICAgdiA9PiAhIXYgfHwgIuiri+i8uOWFpeS9v+eUqOiAheWvhueivCIsCiAgICAgICAgdiA9PiB2Lmxlbmd0aCA8PSAyMCB8fCAiTmFtZSBtdXN0IGJlIGxlc3MgdGhhbiAxMCBjaGFyYWN0ZXJzIgogICAgICBdLAogICAgICB1c2VybmFtZTogIiIsCiAgICAgIHVzZXJuYW1lUnVsZXM6IFt2ID0+ICEhdiB8fCAi6KuL6Ly45YWl5L2/55So6ICF5biz6JmfIl0sCiAgICAgIGpvaW5OYW1lUnVsZXM6IFt2ID0+ICEhdiB8fCAi6KuL6Ly45YWl5L2/55So6ICF5biz6JmfIl0sCiAgICAgIGpvaW5QYXNzUnVsZXM6IFt2ID0+ICEhdiB8fCAi6KuL6Ly45YWl5L2/55So6ICF5a+G56K8Il0sCiAgICAgIGpvaW5FbWFpbFJ1bGVzOiBbdiA9PiAhIXYgfHwgIuiri+i8uOWFpeS9v+eUqOiAheS/oeeusSJdLAogICAgICBlcnJvcl9tZXNzYWdlczogW10sCiAgICAgIGVycm9yUGFzczogZmFsc2UsCiAgICAgIGVycm9yTmFtZTogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbigpIHsKICAgICAgYXhpb3MKICAgICAgICAucG9zdCgiL2xvZ2luQ2hlY2siLCB7CiAgICAgICAgICB1c2VyTmFtZTogdGhpcy51c2VybmFtZSwKICAgICAgICAgIHVzZXJQYXNzd29yZDogdGhpcy5wYXNzd29yZAogICAgICAgIH0pCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInRva2VuIiwgIkltTG9naW4iKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VybmFtZSIsIHRoaXMudXNlcm5hbWUpOwogICAgICAgICAgdGhpcy5lcnJvciA9IGZhbHNlOwogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YSA9PSAiV3JvbmcgVXNlck5hbWUiKSB7CiAgICAgICAgICAgIHRoaXMuZXJyb3JfbWVzc2FnZXNbMF0gPSAi5biz6Jmf5LiN5q2j56K6IjsKICAgICAgICAgICAgdGhpcy5lcnJvck5hbWUgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEgPT0gIldyb25nIFBhc3N3b3JkISIpIHsKICAgICAgICAgICAgdGhpcy5lcnJvck5hbWUgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5lcnJvcl9tZXNzYWdlc1swXSA9ICIiOwogICAgICAgICAgICB0aGlzLmVycm9yX21lc3NhZ2VzWzFdID0gIuWvhueivOS4jeato+eiuiI7CiAgICAgICAgICAgIHRoaXMuZXJyb3JQYXNzID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICAKICAgIH0sCiAgICAgIGpvaW4oKSB7CiAgICAgIGF4aW9zCiAgICAgICAgLnBvc3QoIi9hZGRVc2VyIiwgewogICAgICAgICAgdXNlck5hbWU6IHRoaXMuam9pbk5hbWUsCiAgICAgICAgICB1c2VyUGFzc3dvcmQ6IHRoaXMuam9pblBhc3MsCiAgICAgICAgICB1c2VyRW1haWw6dGhpcy5qb2luRW1haWwKICAgICAgICB9KQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIHRoaXMuam9pbkRpYWxvZz1mYWxzZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChyZXNwb25zZSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfSk7CiAgICAgICAgCiAgICB9CiAgfSwKICBjb21wdXRlZDoge30sCgogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmVycm9yID0gZmFsc2U7CiAgfQp9Owo="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <transition name=\"fade\">\n    <v-container fluid style=\"height: 100vh;\" class=\"bgc\">\n      <v-layout row justify-center align-center style=\" height: 100%\">\n        <v-flex shrink>\n          <v-card min-width=\"350px\" max-width=\"450px\">\n            <v-card-text>\n              <div>紀錄生活中的一切...</div>\n              <v-divider/>\n              <p/>\n              <p class=\"display-2 text--primary\">登入</p>\n              <p>行事曆</p>\n            </v-card-text>\n            <v-form v-model=\"valid\">\n              <v-container>\n                <v-row>\n                  <v-col cols=\"12\">\n                    <v-text-field\n                      v-model=\"username\"\n                      :rules=\"usernameRules\"\n                      label=\"使用者名稱\"\n                      :error=\"errorName\"\n                      :error-messages=\"error_messages[0]\"\n                      required\n                    ></v-text-field>\n                  </v-col>\n                </v-row>\n                <v-row>\n                  <v-col cols=\"12\">\n                    <v-text-field\n                      v-model=\"password\"\n                      :rules=\"passwordRules\"\n                      label=\"使用者密碼\"\n                      type=\"password\"\n                      :error=\"errorPass\"\n                      :error-messages=\"error_messages[1]\"\n                      required\n                    ></v-text-field>\n                  </v-col>\n                </v-row>\n              </v-container>\n              <v-spacer></v-spacer>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn text icon color=\"primary\" @click=\"joinDialog=true\">\n                  註冊\n                  <v-icon small>fas fa-user-plus</v-icon>\n                </v-btn>\n                <v-btn text icon color=\"primary\" @click=\"login()\">\n                  登入\n                  <v-icon small>fas fa-sign-in-alt</v-icon>\n                </v-btn>\n              </v-card-actions>\n            </v-form>\n          </v-card>\n        </v-flex>\n      </v-layout>\n\n      <v-row justify=\"center\">\n        <v-dialog v-model=\"joinDialog\" persistent max-width=\"600px\">\n          <v-card>\n            <v-card-title>\n              <span class=\"headline\">註冊帳號</span>\n            </v-card-title>\n            <v-card-text>\n              <v-container>\n                <v-row>\n                  <v-col cols=\"12\">\n                    <v-text-field  v-model=\"joinName\" label=\"帳號名稱\" :rules=\"joinNameRules\" required></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\">\n                    <v-text-field  v-model=\"joinEmail\" label=\"電子郵件\" :rules=\"joinEmailRules\"  required></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\">\n                    <v-text-field   v-model=\"joinPass\" label=\"密碼\" type=\"password\" :rules=\"joinPassRules\"  required></v-text-field>\n                  </v-col>\n                </v-row>\n              </v-container>\n            </v-card-text>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"blue darken-1\" text @click=\"joinDialog=false\">取消</v-btn>\n              <v-btn color=\"blue darken-1\" text @click=\"join()\">註冊</v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </v-row>\n    </v-container>\n  </transition>\n</template>\n<style>\n.bgc {\n  background-color: #5165a3;\n}\n</style>\n<script>\nconst axios = require(\"axios\");\nexport default {\n  name: \"login\",\n  data() {\n    return {\n      joinDialog: false,\n      email: \"\",\n      password: \"\",\n      valid: false,\n\n      joinName:\"\",\n      joinPass:\"\",\n      joinEmail:\"\",\n\n      passwordRules: [\n        v => !!v || \"請輸入使用者密碼\",\n        v => v.length <= 20 || \"Name must be less than 10 characters\"\n      ],\n      username: \"\",\n      usernameRules: [v => !!v || \"請輸入使用者帳號\"],\n      joinNameRules: [v => !!v || \"請輸入使用者帳號\"],\n      joinPassRules: [v => !!v || \"請輸入使用者密碼\"],\n      joinEmailRules: [v => !!v || \"請輸入使用者信箱\"],\n      error_messages: [],\n      errorPass: false,\n      errorName: false\n    };\n  },\n  methods: {\n    login() {\n      axios\n        .post(\"/loginCheck\", {\n          userName: this.username,\n          userPassword: this.password\n        })\n        .then(response => {\n          localStorage.setItem(\"token\", \"ImLogin\");\n          localStorage.setItem(\"username\", this.username);\n          this.error = false;\n          this.$router.push(\"/\");\n        })\n        .catch(error => {\n          if (error.response.data == \"Wrong UserName\") {\n            this.error_messages[0] = \"帳號不正確\";\n            this.errorName = true;\n          }\n          if (error.response.data == \"Wrong Password!\") {\n            this.errorName = false;\n            this.error_messages[0] = \"\";\n            this.error_messages[1] = \"密碼不正確\";\n            this.errorPass = true;\n          }\n        });\n        \n    },\n      join() {\n      axios\n        .post(\"/addUser\", {\n          userName: this.joinName,\n          userPassword: this.joinPass,\n          userEmail:this.joinEmail\n        })\n        .then(response => {\n          this.joinDialog=false;\n        })\n        .catch(response => {\n          console.log(error);\n        });\n        \n    }\n  },\n  computed: {},\n\n  mounted() {\n    this.error = false;\n  }\n};\n</script>"]}]}