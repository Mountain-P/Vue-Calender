{"remainingRequest":"/Users/andytseng/Sticker/vue-calender/node_modules/babel-loader/lib/index.js!/Users/andytseng/Sticker/vue-calender/node_modules/vuetify-loader/lib/loader.js??ref--17-0!/Users/andytseng/Sticker/vue-calender/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/andytseng/Sticker/vue-calender/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/andytseng/Sticker/vue-calender/src/components/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/andytseng/Sticker/vue-calender/src/components/login.vue","mtime":1576153698874},{"path":"/Users/andytseng/Sticker/vue-calender/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/andytseng/Sticker/vue-calender/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/andytseng/Sticker/vue-calender/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/andytseng/Sticker/vue-calender/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/andytseng/Sticker/vue-calender/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/andytseng/Sticker/vue-calender/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/andytseng/Sticker/vue-calender/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/andytseng/Sticker/vue-calender/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/andytseng/Sticker/vue-calender/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/andytseng/Sticker/vue-calender/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIGF4aW9zID0gcmVxdWlyZSgiYXhpb3MiKTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAibG9naW4iLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nRGlhbG9nOiBmYWxzZSwKICAgICAgbG9hZGluZ0luZm86ICIiLAogICAgICBqb2luRGlhbG9nOiBmYWxzZSwKICAgICAgZW1haWw6ICIiLAogICAgICBwYXNzd29yZDogIiIsCiAgICAgIHZhbGlkOiBmYWxzZSwKICAgICAgam9pbk5hbWU6ICIiLAogICAgICBqb2luUGFzczogIiIsCiAgICAgIGpvaW5FbWFpbDogIiIsCiAgICAgIHBhc3N3b3JkUnVsZXM6IFtmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiAhIXYgfHwgIuiri+i8uOWFpeS9v+eUqOiAheWvhueivCI7CiAgICAgIH0sIGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIHYubGVuZ3RoIDw9IDIwIHx8ICJOYW1lIG11c3QgYmUgbGVzcyB0aGFuIDEwIGNoYXJhY3RlcnMiOwogICAgICB9XSwKICAgICAgdXNlcm5hbWU6ICIiLAogICAgICB1c2VybmFtZVJ1bGVzOiBbZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gISF2IHx8ICLoq4vovLjlhaXkvb/nlKjogIXluLPomZ8iOwogICAgICB9XSwKICAgICAgam9pbk5hbWVSdWxlczogW2Z1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuICEhdiB8fCAi6KuL6Ly45YWl5L2/55So6ICF5biz6JmfIjsKICAgICAgfV0sCiAgICAgIGpvaW5QYXNzUnVsZXM6IFtmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiAhIXYgfHwgIuiri+i8uOWFpeS9v+eUqOiAheWvhueivCI7CiAgICAgIH1dLAogICAgICBqb2luRW1haWxSdWxlczogW2Z1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuICEhdiB8fCAi6KuL6Ly45YWl5L2/55So6ICF5L+h566xIjsKICAgICAgfV0sCiAgICAgIGVycm9yX21lc3NhZ2VzOiBbXSwKICAgICAgZXJyb3JQYXNzOiBmYWxzZSwKICAgICAgZXJyb3JOYW1lOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubG9hZGluZ0RpYWxvZyA9IHRydWU7CiAgICAgIHRoaXMubG9hZGluZ0luZm8gPSAi55m75YWl5Lit77yM6KuL56iN5YCZLi4uLiI7CiAgICAgIGF4aW9zLnBvc3QoIi9hcGkvbG9naW5DaGVjayIsIHsKICAgICAgICB1c2VyTmFtZTogdGhpcy51c2VybmFtZSwKICAgICAgICB1c2VyUGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5sb2FkaW5nRGlhbG9nID0gZmFsc2U7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInRva2VuIiwgIkltTG9naW4iKTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidXNlcm5hbWUiLCBfdGhpcy51c2VybmFtZSk7CiAgICAgICAgX3RoaXMuZXJyb3IgPSBmYWxzZTsKCiAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCIvIik7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzLmxvYWRpbmdEaWFsb2cgPSBmYWxzZTsKCiAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEgPT0gIldyb25nIFVzZXJOYW1lIikgewogICAgICAgICAgX3RoaXMuZXJyb3JfbWVzc2FnZXNbMF0gPSAi5biz6Jmf5LiN5q2j56K6IjsKICAgICAgICAgIF90aGlzLmVycm9yTmFtZSA9IHRydWU7CiAgICAgICAgfQoKICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YSA9PSAiV3JvbmcgUGFzc3dvcmQhIikgewogICAgICAgICAgX3RoaXMuZXJyb3JOYW1lID0gZmFsc2U7CiAgICAgICAgICBfdGhpcy5lcnJvcl9tZXNzYWdlc1swXSA9ICIiOwogICAgICAgICAgX3RoaXMuZXJyb3JfbWVzc2FnZXNbMV0gPSAi5a+G56K85LiN5q2j56K6IjsKICAgICAgICAgIF90aGlzLmVycm9yUGFzcyA9IHRydWU7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBqb2luOiBmdW5jdGlvbiBqb2luKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMubG9hZGluZ0RpYWxvZyA9IHRydWU7CiAgICAgIHRoaXMubG9hZGluZ0luZm8gPSAi6JmV55CG5Lit77yM6KuL56iN5YCZLi4uLiI7CiAgICAgIGF4aW9zLnBvc3QoIi9hcGkvYWRkVXNlciIsIHsKICAgICAgICB1c2VyTmFtZTogdGhpcy5qb2luTmFtZSwKICAgICAgICB1c2VyUGFzc3dvcmQ6IHRoaXMuam9pblBhc3MsCiAgICAgICAgdXNlckVtYWlsOiB0aGlzLmpvaW5FbWFpbAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi5sb2FkaW5nRGlhbG9nID0gZmFsc2U7CiAgICAgICAgX3RoaXMyLmpvaW5EaWFsb2cgPSBmYWxzZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7fSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5lcnJvciA9IGZhbHNlOwogIH0KfTs="},{"version":3,"sources":["login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <transition name=\"fade\">\n    <v-container fluid style=\"height: 100vh;\" class=\"bgc\">\n      <v-layout row justify-center align-center style=\" height: 100%\">\n        <v-flex shrink>\n          <v-card min-width=\"350px\" max-width=\"450px\">\n            <v-card-text>\n              <div>紀錄生活中的一切...</div>\n              <v-divider />\n              <p />\n              <p class=\"display-2 text--primary\">登入</p>\n              <p>行事曆</p>\n            </v-card-text>\n            <v-form v-model=\"valid\">\n              <v-container>\n                <v-row>\n                  <v-col cols=\"12\">\n                    <v-text-field\n                      v-model=\"username\"\n                      :rules=\"usernameRules\"\n                      label=\"使用者名稱\"\n                      :error=\"errorName\"\n                      :error-messages=\"error_messages[0]\"\n                      required\n                    ></v-text-field>\n                  </v-col>\n                </v-row>\n                <v-row>\n                  <v-col cols=\"12\">\n                    <v-text-field\n                      v-model=\"password\"\n                      :rules=\"passwordRules\"\n                      label=\"使用者密碼\"\n                      type=\"password\"\n                      :error=\"errorPass\"\n                      :error-messages=\"error_messages[1]\"\n                      required\n                    ></v-text-field>\n                  </v-col>\n                </v-row>\n              </v-container>\n              <v-spacer></v-spacer>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn text icon color=\"primary\" @click=\"joinDialog=true\">\n                  註冊\n                  <v-icon small>fas fa-user-plus</v-icon>\n                </v-btn>\n                <v-btn text icon color=\"primary\" @click=\"login()\">\n                  登入\n                  <v-icon small>fas fa-sign-in-alt</v-icon>\n                </v-btn>\n              </v-card-actions>\n            </v-form>\n          </v-card>\n        </v-flex>\n      </v-layout>\n\n      <v-row justify=\"center\">\n        <v-dialog v-model=\"joinDialog\" persistent max-width=\"600px\">\n          <v-card>\n            <v-card-title>\n              <span class=\"headline\">註冊帳號</span>\n            </v-card-title>\n            <v-card-text>\n              <v-container>\n                <v-row>\n                  <v-col cols=\"12\">\n                    <v-text-field v-model=\"joinName\" label=\"帳號名稱\" :rules=\"joinNameRules\" required></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\">\n                    <v-text-field v-model=\"joinEmail\" label=\"電子郵件\" :rules=\"joinEmailRules\" required></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\">\n                    <v-text-field\n                      v-model=\"joinPass\"\n                      label=\"密碼\"\n                      type=\"password\"\n                      :rules=\"joinPassRules\"\n                      required\n                    ></v-text-field>\n                  </v-col>\n                </v-row>\n              </v-container>\n            </v-card-text>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"blue darken-1\" text @click=\"joinDialog=false\">取消</v-btn>\n              <v-btn color=\"blue darken-1\" text @click=\"join()\">註冊</v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </v-row>\n      <v-dialog v-model=\"loadingDialog\" hide-overlay persistent width=\"300\">\n        <v-card color=\"primary\" dark>\n          <v-card-text>\n            {{loadingInfo}}\n            <v-progress-linear indeterminate color=\"white\" class=\"mb-0\"></v-progress-linear>\n          </v-card-text>\n        </v-card>\n      </v-dialog>\n    </v-container>\n  </transition>\n</template>\n<style>\n.bgc {\n  background-color: #5165a3;\n}\n</style>\n<script>\nconst axios = require(\"axios\");\nexport default {\n  name: \"login\",\n  data() {\n    return {\n      loadingDialog: false,\n      loadingInfo: \"\",\n      joinDialog: false,\n      email: \"\",\n      password: \"\",\n      valid: false,\n\n      joinName: \"\",\n      joinPass: \"\",\n      joinEmail: \"\",\n\n      passwordRules: [\n        v => !!v || \"請輸入使用者密碼\",\n        v => v.length <= 20 || \"Name must be less than 10 characters\"\n      ],\n      username: \"\",\n      usernameRules: [v => !!v || \"請輸入使用者帳號\"],\n      joinNameRules: [v => !!v || \"請輸入使用者帳號\"],\n      joinPassRules: [v => !!v || \"請輸入使用者密碼\"],\n      joinEmailRules: [v => !!v || \"請輸入使用者信箱\"],\n      error_messages: [],\n      errorPass: false,\n      errorName: false\n    };\n  },\n  methods: {\n    login() {\n      this.loadingDialog = true;\n      this.loadingInfo = \"登入中，請稍候....\";\n      axios\n        .post(\"/api/loginCheck\", {\n          userName: this.username,\n          userPassword: this.password\n        })\n        .then(response => {\n          this.loadingDialog = false;\n          localStorage.setItem(\"token\", \"ImLogin\");\n          localStorage.setItem(\"username\", this.username);\n          this.error = false;\n          this.$router.push(\"/\");\n        })\n        .catch(error => {\n          this.loadingDialog = false;\n          if (error.response.data == \"Wrong UserName\") {\n            this.error_messages[0] = \"帳號不正確\";\n            this.errorName = true;\n          }\n          if (error.response.data == \"Wrong Password!\") {\n            this.errorName = false;\n            this.error_messages[0] = \"\";\n            this.error_messages[1] = \"密碼不正確\";\n            this.errorPass = true;\n          }\n        });\n    },\n    join() {\n      this.loadingDialog = true;\n      this.loadingInfo = \"處理中，請稍候....\";\n      axios\n        .post(\"/api/addUser\", {\n          userName: this.joinName,\n          userPassword: this.joinPass,\n          userEmail: this.joinEmail\n        })\n        .then(response => {\n          this.loadingDialog = false;\n          this.joinDialog = false;\n        })\n        .catch(response => {\n          console.log(error);\n        });\n    }\n  },\n  computed: {},\n\n  mounted() {\n    this.error = false;\n  }\n};\n</script>"],"sourceRoot":"src/components"}]}