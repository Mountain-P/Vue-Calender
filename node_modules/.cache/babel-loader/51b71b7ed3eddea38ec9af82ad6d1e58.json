{"remainingRequest":"/Users/andytseng/Sticker/vue-calender/node_modules/babel-loader/lib/index.js!/Users/andytseng/Sticker/vue-calender/node_modules/vuetify-loader/lib/loader.js??ref--17-0!/Users/andytseng/Sticker/vue-calender/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/andytseng/Sticker/vue-calender/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/andytseng/Sticker/vue-calender/src/components/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/andytseng/Sticker/vue-calender/src/components/login.vue","mtime":1576126939536},{"path":"/Users/andytseng/Sticker/vue-calender/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/andytseng/Sticker/vue-calender/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/andytseng/Sticker/vue-calender/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/andytseng/Sticker/vue-calender/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/andytseng/Sticker/vue-calender/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIGF4aW9zID0gcmVxdWlyZSgiYXhpb3MiKTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAibG9naW4iLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBqb2luRGlhbG9nOiBmYWxzZSwKICAgICAgZW1haWw6ICIiLAogICAgICBwYXNzd29yZDogIiIsCiAgICAgIHZhbGlkOiBmYWxzZSwKICAgICAgam9pbk5hbWU6ICIiLAogICAgICBqb2luUGFzczogIiIsCiAgICAgIGpvaW5FbWFpbDogIiIsCiAgICAgIHBhc3N3b3JkUnVsZXM6IFtmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiAhIXYgfHwgIuiri+i8uOWFpeS9v+eUqOiAheWvhueivCI7CiAgICAgIH0sIGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIHYubGVuZ3RoIDw9IDIwIHx8ICJOYW1lIG11c3QgYmUgbGVzcyB0aGFuIDEwIGNoYXJhY3RlcnMiOwogICAgICB9XSwKICAgICAgdXNlcm5hbWU6ICIiLAogICAgICB1c2VybmFtZVJ1bGVzOiBbZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gISF2IHx8ICLoq4vovLjlhaXkvb/nlKjogIXluLPomZ8iOwogICAgICB9XSwKICAgICAgam9pbk5hbWVSdWxlczogW2Z1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuICEhdiB8fCAi6KuL6Ly45YWl5L2/55So6ICF5biz6JmfIjsKICAgICAgfV0sCiAgICAgIGpvaW5QYXNzUnVsZXM6IFtmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiAhIXYgfHwgIuiri+i8uOWFpeS9v+eUqOiAheWvhueivCI7CiAgICAgIH1dLAogICAgICBqb2luRW1haWxSdWxlczogW2Z1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuICEhdiB8fCAi6KuL6Ly45YWl5L2/55So6ICF5L+h566xIjsKICAgICAgfV0sCiAgICAgIGVycm9yX21lc3NhZ2VzOiBbXSwKICAgICAgZXJyb3JQYXNzOiBmYWxzZSwKICAgICAgZXJyb3JOYW1lOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGF4aW9zLnBvc3QoIi9sb2dpbkNoZWNrIiwgewogICAgICAgIHVzZXJOYW1lOiB0aGlzLnVzZXJuYW1lLAogICAgICAgIHVzZXJQYXNzd29yZDogdGhpcy5wYXNzd29yZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbiIsICJJbUxvZ2luIik7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXJuYW1lIiwgX3RoaXMudXNlcm5hbWUpOwogICAgICAgIF90aGlzLmVycm9yID0gZmFsc2U7CgogICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UuZGF0YSA9PSAiV3JvbmcgVXNlck5hbWUiKSB7CiAgICAgICAgICBfdGhpcy5lcnJvcl9tZXNzYWdlc1swXSA9ICLluLPomZ/kuI3mraPnoroiOwogICAgICAgICAgX3RoaXMuZXJyb3JOYW1lID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhID09ICJXcm9uZyBQYXNzd29yZCEiKSB7CiAgICAgICAgICBfdGhpcy5lcnJvck5hbWUgPSBmYWxzZTsKICAgICAgICAgIF90aGlzLmVycm9yX21lc3NhZ2VzWzBdID0gIiI7CiAgICAgICAgICBfdGhpcy5lcnJvcl9tZXNzYWdlc1sxXSA9ICLlr4bnorzkuI3mraPnoroiOwogICAgICAgICAgX3RoaXMuZXJyb3JQYXNzID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGpvaW46IGZ1bmN0aW9uIGpvaW4oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgYXhpb3MucG9zdCgiL2FkZFVzZXIiLCB7CiAgICAgICAgdXNlck5hbWU6IHRoaXMuam9pbk5hbWUsCiAgICAgICAgdXNlclBhc3N3b3JkOiB0aGlzLmpvaW5QYXNzLAogICAgICAgIHVzZXJFbWFpbDogdGhpcy5qb2luRW1haWwKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczIuam9pbkRpYWxvZyA9IGZhbHNlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmVycm9yID0gZmFsc2U7CiAgfQp9Ow=="},{"version":3,"sources":["login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <transition name=\"fade\">\n    <v-container fluid style=\"height: 100vh;\" class=\"bgc\">\n      <v-layout row justify-center align-center style=\" height: 100%\">\n        <v-flex shrink>\n          <v-card min-width=\"350px\" max-width=\"450px\">\n            <v-card-text>\n              <div>紀錄生活中的一切...</div>\n              <v-divider/>\n              <p/>\n              <p class=\"display-2 text--primary\">登入</p>\n              <p>行事曆</p>\n            </v-card-text>\n            <v-form v-model=\"valid\">\n              <v-container>\n                <v-row>\n                  <v-col cols=\"12\">\n                    <v-text-field\n                      v-model=\"username\"\n                      :rules=\"usernameRules\"\n                      label=\"使用者名稱\"\n                      :error=\"errorName\"\n                      :error-messages=\"error_messages[0]\"\n                      required\n                    ></v-text-field>\n                  </v-col>\n                </v-row>\n                <v-row>\n                  <v-col cols=\"12\">\n                    <v-text-field\n                      v-model=\"password\"\n                      :rules=\"passwordRules\"\n                      label=\"使用者密碼\"\n                      type=\"password\"\n                      :error=\"errorPass\"\n                      :error-messages=\"error_messages[1]\"\n                      required\n                    ></v-text-field>\n                  </v-col>\n                </v-row>\n              </v-container>\n              <v-spacer></v-spacer>\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn text icon color=\"primary\" @click=\"joinDialog=true\">\n                  註冊\n                  <v-icon small>fas fa-user-plus</v-icon>\n                </v-btn>\n                <v-btn text icon color=\"primary\" @click=\"login()\">\n                  登入\n                  <v-icon small>fas fa-sign-in-alt</v-icon>\n                </v-btn>\n              </v-card-actions>\n            </v-form>\n          </v-card>\n        </v-flex>\n      </v-layout>\n\n      <v-row justify=\"center\">\n        <v-dialog v-model=\"joinDialog\" persistent max-width=\"600px\">\n          <v-card>\n            <v-card-title>\n              <span class=\"headline\">註冊帳號</span>\n            </v-card-title>\n            <v-card-text>\n              <v-container>\n                <v-row>\n                  <v-col cols=\"12\">\n                    <v-text-field  v-model=\"joinName\" label=\"帳號名稱\" :rules=\"joinNameRules\" required></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\">\n                    <v-text-field  v-model=\"joinEmail\" label=\"電子郵件\" :rules=\"joinEmailRules\"  required></v-text-field>\n                  </v-col>\n                  <v-col cols=\"12\">\n                    <v-text-field   v-model=\"joinPass\" label=\"密碼\" type=\"password\" :rules=\"joinPassRules\"  required></v-text-field>\n                  </v-col>\n                </v-row>\n              </v-container>\n            </v-card-text>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn color=\"blue darken-1\" text @click=\"joinDialog=false\">取消</v-btn>\n              <v-btn color=\"blue darken-1\" text @click=\"join()\">註冊</v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-dialog>\n      </v-row>\n    </v-container>\n  </transition>\n</template>\n<style>\n.bgc {\n  background-color: #5165a3;\n}\n</style>\n<script>\nconst axios = require(\"axios\");\nexport default {\n  name: \"login\",\n  data() {\n    return {\n      joinDialog: false,\n      email: \"\",\n      password: \"\",\n      valid: false,\n\n      joinName:\"\",\n      joinPass:\"\",\n      joinEmail:\"\",\n\n      passwordRules: [\n        v => !!v || \"請輸入使用者密碼\",\n        v => v.length <= 20 || \"Name must be less than 10 characters\"\n      ],\n      username: \"\",\n      usernameRules: [v => !!v || \"請輸入使用者帳號\"],\n      joinNameRules: [v => !!v || \"請輸入使用者帳號\"],\n      joinPassRules: [v => !!v || \"請輸入使用者密碼\"],\n      joinEmailRules: [v => !!v || \"請輸入使用者信箱\"],\n      error_messages: [],\n      errorPass: false,\n      errorName: false\n    };\n  },\n  methods: {\n    login() {\n      axios\n        .post(\"/loginCheck\", {\n          userName: this.username,\n          userPassword: this.password\n        })\n        .then(response => {\n          localStorage.setItem(\"token\", \"ImLogin\");\n          localStorage.setItem(\"username\", this.username);\n          this.error = false;\n          this.$router.push(\"/\");\n        })\n        .catch(error => {\n          if (error.response.data == \"Wrong UserName\") {\n            this.error_messages[0] = \"帳號不正確\";\n            this.errorName = true;\n          }\n          if (error.response.data == \"Wrong Password!\") {\n            this.errorName = false;\n            this.error_messages[0] = \"\";\n            this.error_messages[1] = \"密碼不正確\";\n            this.errorPass = true;\n          }\n        });\n        \n    },\n      join() {\n      axios\n        .post(\"/addUser\", {\n          userName: this.joinName,\n          userPassword: this.joinPass,\n          userEmail:this.joinEmail\n        })\n        .then(response => {\n          this.joinDialog=false;\n        })\n        .catch(response => {\n          console.log(error);\n        });\n        \n    }\n  },\n  computed: {},\n\n  mounted() {\n    this.error = false;\n  }\n};\n</script>"],"sourceRoot":"src/components"}]}